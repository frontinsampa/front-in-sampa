---
import Ticket from "../ui/ticket.astro";

const tickets = [
  {
    title: 'Early Birds',
    date: 'Até 31 de Maio',
    valueMin: '149,50',
    valueMax: '379',
    isEnable: true,
    soldOut: true,
  },
  {
    title: '1º Lote',
    date: 'Até 12 de Julho',
    valueMin: '199,50',
    valueMax: '399',
    isEnable: true,
    soldOut: true,
  },
  {
    title: '2º Lote',
    date: 'Ainda dá tempo!',
    valueMin: '249,50',
    valueMax: '499',
    isEnable: true,
    soldOut: false,
  },
  {
    title: '3º Lote',
    date: 'última chance!',
    valueMin: '349,50',
    valueMax: '699',
    isEnable: false,
    soldOut: false,
  }
];
---

<section class="tickets">
  <h2 class="tickets-title">
    Ingressos
  </h2>
  <div class="tickets-main">
    <div class="tickets-inner" id="tickets-list">
      {tickets.map(({ title, date, valueMin, valueMax, isEnable, soldOut }) => (
        <div class="tickets-item">
          <Ticket
            title={title}
            date={date}
            valueMin={valueMin}
            valueMax={valueMax}
            isEnable={isEnable}
            soldOut={soldOut}
          />
        </div>
      ))}
    </div>
  </div>
</section>

<style lang="scss">
  .tickets {
    position: relative;
    background-color: var(--color-accent);
    padding: 11rem 0 14rem;

    @media (max-width: 600px) {
      padding: 8rem 0 12rem;
    }
  }

  .tickets-title {
    color: var(--color-secondary);
    font-size: 4rem;
    text-align: center;
    background-color: var(--color-primary);
    padding: 1rem 0;
    text-transform: uppercase;

    @media (max-width: 600px) {
      font-size: 3rem;
    }
  }

  .tickets-main {
    @media (max-width: 600px) {
      padding: 0 3rem;
    }
  }

  .tickets-inner {
    display: flex;
    max-width: fit-content;
    width: 100%;
    margin: 0 auto;
    padding-top: 5rem;
    justify-content: space-between;

    @media (max-width: 1099px) {
      overflow: auto;
      scroll-snap-type: x mandatory;
    }
  }

  .tickets-item {
    flex-basis: 30%;
    margin-right: 1rem;
    min-width: 25rem;
    
    @media (max-width: 600px) {
      scroll-snap-align: center;
      margin-right: 3rem;
    }
  }
</style>

<script>
  const ticketsList = document.getElementById('tickets-list');

  if (window.innerWidth < 600) {
    ticketsList.scrollTo(400, 0);
  }
</script>